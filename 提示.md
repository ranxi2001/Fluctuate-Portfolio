# ğŸ“‹ Fluctuate Portfolio - å¼€å‘æŒ‡å—

## âœ… å·²å®Œæˆï¼šè¿ç§»åˆ° Foundry

### ğŸ”¥ ä¸ºä»€ä¹ˆé€‰æ‹© Foundryï¼Ÿ
- **51.1% çš„å¼€å‘è€…ä½¿ç”¨**ï¼ˆ2024å¹´æœ€æµè¡Œçš„æ¡†æ¶ï¼‰
- **ç¼–è¯‘é€Ÿåº¦å¿« 2-5 å€**
- **Solidity åŸç”Ÿæµ‹è¯•**ï¼ˆä¸éœ€è¦ JavaScriptï¼‰
- **å†…ç½® Fuzz Testing**ï¼ˆéšæœºæµ‹è¯•ï¼‰

---

## ğŸ“‚ å½“å‰é¡¹ç›®ç»“æ„

```
Fluctuate-Portfolio/
â”œâ”€â”€ foundry/                 # âœ… Foundry æ™ºèƒ½åˆçº¦ï¼ˆæ–°ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ FluctuatePortfolio.sol    # ä¸»åˆçº¦
â”‚   â”œâ”€â”€ test/
â”‚   â”‚   â””â”€â”€ FluctuatePortfolio.t.sol  # Solidity æµ‹è¯•ï¼ˆ20ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
â”‚   â”œâ”€â”€ script/
â”‚   â”‚   â””â”€â”€ Deploy.s.sol              # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ foundry.toml                  # Foundry é…ç½®
â”‚   â””â”€â”€ .env.example                  # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ contracts/               # âš ï¸ Hardhat æ—§ç›®å½•ï¼ˆå·²å¼ƒç”¨ï¼‰
â”œâ”€â”€ docs/                    # ğŸ“š æ–‡æ¡£
â””â”€â”€ README.md
```

---

## âœ… å·²éƒ¨ç½²åˆçº¦

| ç½‘ç»œ | åˆçº¦åœ°å€ |
|------|----------|
| **Mantle Sepolia** | [`0xa37CD611Ff745548926b7ed121Ba825A61226149`](https://sepolia.mantlescan.xyz/address/0xa37CD611Ff745548926b7ed121Ba825A61226149) |

**éƒ¨ç½²æ—¶é—´**ï¼š2025-12-30
**äº¤æ˜“å“ˆå¸Œ**ï¼š[`0xc81f5ad3...`](https://sepolia.mantlescan.xyz/tx/0xc81f5ad3df72c8d576b3f78b1229eb588354cca22b2484e89e65cd2646b2e7b2)
**Gas è´¹ç”¨**ï¼š0.057 MNT

---

## ğŸš€ ä¸‹ä¸€æ­¥ï¼šéƒ¨ç½²åˆ° Mantle æµ‹è¯•ç½‘ï¼ˆå·²å®Œæˆ âœ…ï¼‰

### Step 1: é…ç½®ç§é’¥ âœ…

```bash
cd /home/Fluctuate-Portfolio/foundry
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```
PRIVATE_KEY=ä½ çš„MetaMaskç§é’¥ï¼ˆä¸å¸¦0xå‰ç¼€ï¼‰
MANTLE_TESTNET_RPC_URL=https://rpc.sepolia.mantle.xyz
```

### Step 2: è·å–æµ‹è¯•ç½‘ MNT âœ…

1. è®¿é—® [Mantle Faucet](https://faucet.sepolia.mantle.xyz/)
2. è¾“å…¥ä½ çš„é’±åŒ…åœ°å€
3. é¢†å–æµ‹è¯• MNT

### Step 3: éƒ¨ç½²åˆçº¦ âœ…

```bash
cd /home/Fluctuate-Portfolio/foundry
export PATH="$PATH:/root/.foundry/bin"

# åŠ è½½ç¯å¢ƒå˜é‡
source .env

# éƒ¨ç½²åˆ° Mantle Sepolia æµ‹è¯•ç½‘
forge script script/Deploy.s.sol:DeployFluctuatePortfolio \
    --rpc-url $MANTLE_TESTNET_RPC_URL \
    --private-key $PRIVATE_KEY \
    --broadcast
```

### Step 4: éªŒè¯åˆçº¦

```bash
forge verify-contract <åˆçº¦åœ°å€> FluctuatePortfolio \
    --chain-id 5003 \
    --verifier-url https://api-sepolia.mantlescan.xyz/api
```

---

## ğŸ§ª æµ‹è¯•çŠ¶æ€

âœ… **20/20 æµ‹è¯•å…¨éƒ¨é€šè¿‡**

| æµ‹è¯•ç±»å‹ | æ•°é‡ | çŠ¶æ€ |
|---------|------|------|
| åŸºç¡€åŠŸèƒ½æµ‹è¯• | 10 | âœ… |
| è¾¹ç•Œ/é”™è¯¯æµ‹è¯• | 7 | âœ… |
| Fuzz æµ‹è¯• | 2 | âœ… |
| Gas æµ‹è¯• | 1 | âœ… |

### è¿è¡Œæµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
forge test -vv

# å¸¦ Gas æŠ¥å‘Š
forge test --gas-report

# æ›´å¤š Fuzz è½®æ¬¡
forge test --fuzz-runs 1000
```

---

## ğŸ“Š Gas æ¶ˆè€—æŠ¥å‘Š

| å‡½æ•° | Gas æ¶ˆè€— |
|------|----------|
| éƒ¨ç½²åˆçº¦ | ~894,388 |
| updatePortfolio (10èµ„äº§) | ~800,000 |
| getPortfolio | ~50,000 |
| deletePortfolio | ~42,000 |

---

## ğŸ“ å¸¸ç”¨ Foundry å‘½ä»¤

```bash
# ç¼–è¯‘
forge build

# æµ‹è¯•
forge test

# æ ¼å¼åŒ–ä»£ç 
forge fmt

# å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹
anvil

# ä¸åˆçº¦äº¤äº’ï¼ˆæŸ¥è¯¢ï¼‰
cast call <åœ°å€> "getAssetCount(address)" <ç”¨æˆ·åœ°å€> --rpc-url <RPC_URL>

# å‘é€äº¤æ˜“
cast send <åœ°å€> "updatePortfolio((string,uint256,uint256)[])" \
    "[(\"BTC\",1000000000000000000,40000000000000000000000)]" \
    --private-key $PRIVATE_KEY --rpc-url <RPC_URL>
```

---

## ğŸ¯ ä»Šæ—¥ç›®æ ‡ï¼ˆ2025-12-30ï¼‰

- [x] âœ… è°ƒç ” Solidity å¼€å‘æ¡†æ¶
- [x] âœ… å®‰è£… Foundry
- [x] âœ… è¿ç§»åˆçº¦åˆ° Foundry
- [x] âœ… ç¼–å†™ Solidity åŸç”Ÿæµ‹è¯•
- [x] âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] â³ é…ç½®ç§é’¥
- [ ] â³ è·å–æµ‹è¯•ç½‘ MNT
- [ ] â³ éƒ¨ç½²åˆ° Mantle Sepolia
- [ ] â³ éªŒè¯åˆçº¦

---

## ï¿½ å‰©ä½™å¼€å‘è®¡åˆ’

| æ—¶é—´ | ä»»åŠ¡ |
|------|------|
| Day 1 (ä»Šå¤©) | âœ… åˆçº¦å¼€å‘ + éƒ¨ç½² |
| Day 2-3 | å‰ç«¯é¡¹ç›®åˆå§‹åŒ– |
| Day 4-5 | é’±åŒ…è¿æ¥ + UI |
| Day 6-7 | Chainlink ä»·æ ¼é›†æˆ |
| Day 8-9 | èµ„äº§ç®¡ç†åŠŸèƒ½ |
| Day 10-11 | æµ‹è¯• + ä¼˜åŒ– |
| Day 12-13 | å½•åˆ¶ Demo è§†é¢‘ |
| Day 14 | æäº¤ |

---

## ï¿½ æœ‰ç”¨é“¾æ¥

- [Foundry Book](https://book.getfoundry.sh/)
- [Mantle Docs](https://docs.mantle.xyz/)
- [Mantle Sepolia Faucet](https://faucet.sepolia.mantle.xyz/)
- [Mantle Sepolia Explorer](https://sepolia.mantlescan.xyz/)
- [Chainlink Price Feeds](https://docs.chain.link/data-feeds/price-feeds)

---

**å‡†å¤‡å¥½äº†å°±å¼€å§‹é…ç½®ç§é’¥ï¼Œéƒ¨ç½²åˆçº¦ï¼** ï¿½